"""
by Paul Cardoos
question 4
"""

import numpy as np
import matplotlib.pyplot as plt

HOLIDAY_SUM = 21.00015

#this is the result from the random experiments in random weeks
results_from_300 = [{'cases': 439, 'percentage': 8.689627870150435}, {'cases': 486, 'percentage': 9.619952494061758}, {'cases': 332, 'percentage': 6.571654790182106}, {'cases': 397, 'percentage': 7.858273950910531}, {'cases': 524, 'percentage': 10.37212984956453}, {'cases': 508, 'percentage': 10.055423594615993}, {'cases': 808, 'percentage': 15.99366587490103}, {'cases': 454, 'percentage': 8.986539984164688}, {'cases': 1029, 'percentage': 20.36817102137767}, {'cases': 1178, 'percentage': 23.317498020585905}, {'cases': 862, 'percentage': 17.06254948535234}, {'cases': 475, 'percentage': 9.402216943784639}, {'cases': 483, 'percentage': 9.560570071258907}, {'cases': 471, 'percentage': 9.323040380047505}, {'cases': 1267, 'percentage': 25.079176563737132}, {'cases': 590, 'percentage': 11.678543151227236}, {'cases': 1632, 'percentage': 32.304038004750595}, {'cases': 744, 'percentage': 14.726840855106888}, {'cases': 753, 'percentage': 14.90498812351544}, {'cases': 910, 'percentage': 18.01266825019794}, {'cases': 549, 'percentage': 10.866983372921615}, {'cases': 650, 'percentage': 12.866191607284245}, {'cases': 577, 'percentage': 11.421219319081551}, {'cases': 1399, 'percentage': 27.69200316706255}, {'cases': 733, 'percentage': 14.50910530482977}, {'cases': 1002, 'percentage': 19.833729216152015}, {'cases': 471, 'percentage': 9.323040380047505}, {'cases': 661, 'percentage': 13.083927157561362}, {'cases': 511, 'percentage': 10.114806017418845}, {'cases': 836, 'percentage': 16.547901821060965}, {'cases': 742, 'percentage': 14.687252573238322}, {'cases': 793, 'percentage': 15.696753760886779}, {'cases': 578, 'percentage': 11.441013460015835}, {'cases': 1264, 'percentage': 25.019794140934287}, {'cases': 670, 'percentage': 13.262074425969914}, {'cases': 1341, 'percentage': 26.54394299287411}, {'cases': 700, 'percentage': 13.855898653998418}, {'cases': 1001, 'percentage': 19.81393507521774}, {'cases': 935, 'percentage': 18.507521773555027}, {'cases': 1033, 'percentage': 20.447347585114805}, {'cases': 768, 'percentage': 15.201900237529692}, {'cases': 509, 'percentage': 10.075217735550277}, {'cases': 815, 'percentage': 16.132224861441014}, {'cases': 1205, 'percentage': 23.851939825811556}, {'cases': 1427, 'percentage': 28.246239113222487}, {'cases': 624, 'percentage': 12.351543942992874}, {'cases': 1155, 'percentage': 22.862232779097386}, {'cases': 574, 'percentage': 11.361836896278701}, {'cases': 575, 'percentage': 11.381631037212985}, {'cases': 568, 'percentage': 11.243072050673}, {'cases': 533, 'percentage': 10.550277117973081}, {'cases': 1277, 'percentage': 25.27711797307997}, {'cases': 632, 'percentage': 12.509897070467142}, {'cases': 1065, 'percentage': 21.08076009501188}, {'cases': 761, 'percentage': 15.063341250989707}, {'cases': 487, 'percentage': 9.63974663499604}, {'cases': 824, 'percentage': 16.310372129849565}, {'cases': 641, 'percentage': 12.688044338875692}, {'cases': 609, 'percentage': 12.054631828978621}, {'cases': 985, 'percentage': 19.497228820269203}, {'cases': 736, 'percentage': 14.568487727632622}, {'cases': 410, 'percentage': 8.115597783056215}, {'cases': 785, 'percentage': 15.53840063341251}, {'cases': 1607, 'percentage': 31.80918448139351}, {'cases': 1416, 'percentage': 28.028503562945367}, {'cases': 432, 'percentage': 8.551068883610451}, {'cases': 455, 'percentage': 9.00633412509897}, {'cases': 450, 'percentage': 8.907363420427554}, {'cases': 528, 'percentage': 10.451306413301662}, {'cases': 999, 'percentage': 19.77434679334917}, {'cases': 432, 'percentage': 8.551068883610451}, {'cases': 366, 'percentage': 7.244655581947743}, {'cases': 792, 'percentage': 15.676959619952495}, {'cases': 415, 'percentage': 8.214568487727632}, {'cases': 1172, 'percentage': 23.198733174980205}, {'cases': 450, 'percentage': 8.907363420427552}, {'cases': 1136, 'percentage': 22.486144101346}, {'cases': 898, 'percentage': 17.77513855898654}, {'cases': 395, 'percentage': 7.8186856690419635}, {'cases': 795, 'percentage': 15.736342042755345}, {'cases': 944, 'percentage': 18.68566904196358}, {'cases': 1320, 'percentage': 26.128266033254157}, {'cases': 662, 'percentage': 13.103721298495644}, {'cases': 459, 'percentage': 9.085510688836106}, {'cases': 537, 'percentage': 10.629453681710213}, {'cases': 997, 'percentage': 19.7347585114806}, {'cases': 693, 'percentage': 13.717339667458432}, {'cases': 1313, 'percentage': 25.989707046714173}, {'cases': 721, 'percentage': 14.271575613618369}, {'cases': 621, 'percentage': 12.292161520190023}, {'cases': 513, 'percentage': 10.15439429928741}, {'cases': 591, 'percentage': 11.698337292161519}, {'cases': 1137, 'percentage': 22.505938242280283}, {'cases': 677, 'percentage': 13.400633412509897}, {'cases': 564, 'percentage': 11.163895486935868}, {'cases': 549, 'percentage': 10.866983372921615}, {'cases': 1201, 'percentage': 23.772763262074424}, {'cases': 561, 'percentage': 11.104513064133016}, {'cases': 1187, 'percentage': 23.495645288994456}, {'cases': 820, 'percentage': 16.23119556611243}, {'cases': 348, 'percentage': 6.888361045130641}, {'cases': 466, 'percentage': 9.22406967537609}, {'cases': 1283, 'percentage': 25.39588281868567}, {'cases': 584, 'percentage': 11.559778305621537}, {'cases': 1365, 'percentage': 27.01900237529691}, {'cases': 432, 'percentage': 8.551068883610451}, {'cases': 449, 'percentage': 8.88756927949327}, {'cases': 1323, 'percentage': 26.18764845605701}, {'cases': 1031, 'percentage': 20.407759303246237}, {'cases': 1527, 'percentage': 30.225653206650833}, {'cases': 657, 'percentage': 13.004750593824228}, {'cases': 584, 'percentage': 11.559778305621537}, {'cases': 677, 'percentage': 13.400633412509894}, {'cases': 408, 'percentage': 8.076009501187649}, {'cases': 830, 'percentage': 16.429136975455265}, {'cases': 686, 'percentage': 13.578780680918449}, {'cases': 775, 'percentage': 15.340459224069676}, {'cases': 899, 'percentage': 17.79493269992082}, {'cases': 944, 'percentage': 18.685669041963582}, {'cases': 421, 'percentage': 8.333333333333332}, {'cases': 488, 'percentage': 9.659540775930324}, {'cases': 641, 'percentage': 12.688044338875692}, {'cases': 759, 'percentage': 15.02375296912114}, {'cases': 415, 'percentage': 8.214568487727632}, {'cases': 759, 'percentage': 15.02375296912114}, {'cases': 643, 'percentage': 12.72763262074426}, {'cases': 512, 'percentage': 10.134600158353127}, {'cases': 462, 'percentage': 9.144893111638956}, {'cases': 1263, 'percentage': 25.000000000000004}, {'cases': 1080, 'percentage': 21.37767220902613}, {'cases': 894, 'percentage': 17.695961995249405}, {'cases': 627, 'percentage': 12.410926365795724}, {'cases': 436, 'percentage': 8.630245447347585}, {'cases': 1327, 'percentage': 26.26682501979414}, {'cases': 844, 'percentage': 16.706254948535232}, {'cases': 1239, 'percentage': 24.524940617577197}, {'cases': 843, 'percentage': 16.68646080760095}, {'cases': 1392, 'percentage': 27.55344418052257}, {'cases': 1299, 'percentage': 25.712589073634206}, {'cases': 694, 'percentage': 13.737133808392716}, {'cases': 781, 'percentage': 15.459224069675376}, {'cases': 680, 'percentage': 13.460015835312749}, {'cases': 768, 'percentage': 15.20190023752969}, {'cases': 1003, 'percentage': 19.853523357086303}, {'cases': 651, 'percentage': 12.885985748218527}, {'cases': 663, 'percentage': 13.12351543942993}, {'cases': 553, 'percentage': 10.94615993665875}, {'cases': 659, 'percentage': 13.044338875692794}, {'cases': 1236, 'percentage': 24.465558194774346}, {'cases': 486, 'percentage': 9.619952494061758}, {'cases': 431, 'percentage': 8.53127474267617}, {'cases': 1344, 'percentage': 26.60332541567696}, {'cases': 1408, 'percentage': 27.8701504354711}, {'cases': 1279, 'percentage': 25.316706254948535}, {'cases': 1205, 'percentage': 23.851939825811563}, {'cases': 978, 'percentage': 19.358669833729216}, {'cases': 391, 'percentage': 7.73950910530483}, {'cases': 1060, 'percentage': 20.981789390340463}, {'cases': 816, 'percentage': 16.152019002375297}, {'cases': 1055, 'percentage': 20.882818685669044}, {'cases': 800, 'percentage': 15.835312747426762}, {'cases': 560, 'percentage': 11.084718923198734}, {'cases': 594, 'percentage': 11.75771971496437}, {'cases': 1498, 'percentage': 29.65162311955661}, {'cases': 615, 'percentage': 12.173396674584323}, {'cases': 567, 'percentage': 11.223277909738718}, {'cases': 599, 'percentage': 11.856690419635788}, {'cases': 471, 'percentage': 9.323040380047507}, {'cases': 847, 'percentage': 16.765637371338084}, {'cases': 1531, 'percentage': 30.30482977038797}, {'cases': 1074, 'percentage': 21.25890736342043}, {'cases': 926, 'percentage': 18.32937450514648}, {'cases': 802, 'percentage': 15.874901029295327}, {'cases': 614, 'percentage': 12.153602533650039}, {'cases': 1418, 'percentage': 28.068091844813935}, {'cases': 499, 'percentage': 9.877276326207442}, {'cases': 1106, 'percentage': 21.8923198733175}, {'cases': 817, 'percentage': 16.171813143309578}, {'cases': 687, 'percentage': 13.598574821852731}, {'cases': 804, 'percentage': 15.914489311163894}, {'cases': 1082, 'percentage': 21.417260490894694}, {'cases': 980, 'percentage': 19.39825811559778}, {'cases': 686, 'percentage': 13.578780680918447}, {'cases': 810, 'percentage': 16.033254156769598}, {'cases': 498, 'percentage': 9.85748218527316}, {'cases': 726, 'percentage': 14.370546318289787}, {'cases': 432, 'percentage': 8.551068883610451}, {'cases': 1042, 'percentage': 20.62549485352336}, {'cases': 839, 'percentage': 16.607284243863816}, {'cases': 755, 'percentage': 14.944576405384005}, {'cases': 692, 'percentage': 13.697545526524149}, {'cases': 459, 'percentage': 9.085510688836104}, {'cases': 699, 'percentage': 13.836104513064134}, {'cases': 754, 'percentage': 14.924782264449721}, {'cases': 587, 'percentage': 11.619160728424385}, {'cases': 744, 'percentage': 14.72684085510689}, {'cases': 700, 'percentage': 13.855898653998418}, {'cases': 1048, 'percentage': 20.744259699129056}, {'cases': 829, 'percentage': 16.40934283452098}, {'cases': 1417, 'percentage': 28.048297703879648}, {'cases': 603, 'percentage': 11.935866983372922}, {'cases': 743, 'percentage': 14.707046714172606}, {'cases': 612, 'percentage': 12.114014251781473}, {'cases': 611, 'percentage': 12.094220110847191}, {'cases': 1718, 'percentage': 34.006334125098974}, {'cases': 587, 'percentage': 11.619160728424388}, {'cases': 380, 'percentage': 7.521773555027712}, {'cases': 1045, 'percentage': 20.684877276326205}, {'cases': 646, 'percentage': 12.787015043547111}, {'cases': 685, 'percentage': 13.558986539984165}, {'cases': 660, 'percentage': 13.064133016627078}, {'cases': 721, 'percentage': 14.27157561361837}, {'cases': 1555, 'percentage': 30.77988915281077}, {'cases': 878, 'percentage': 17.37925574030087}, {'cases': 620, 'percentage': 12.27236737925574}, {'cases': 630, 'percentage': 12.470308788598574}, {'cases': 628, 'percentage': 12.430720506730006}, {'cases': 545, 'percentage': 10.787806809184483}, {'cases': 532, 'percentage': 10.530482977038796}, {'cases': 1153, 'percentage': 22.822644497228822}, {'cases': 975, 'percentage': 19.299287410926365}, {'cases': 1362, 'percentage': 26.95961995249406}, {'cases': 713, 'percentage': 14.113222486144101}, {'cases': 402, 'percentage': 7.957244655581948}, {'cases': 1001, 'percentage': 19.81393507521774}, {'cases': 1227, 'percentage': 24.287410926365794}, {'cases': 476, 'percentage': 9.422011084718923}, {'cases': 825, 'percentage': 16.330166270783845}, {'cases': 995, 'percentage': 19.695170229612035}, {'cases': 651, 'percentage': 12.885985748218527}, {'cases': 904, 'percentage': 17.89390340459224}, {'cases': 572, 'percentage': 11.322248614410135}, {'cases': 821, 'percentage': 16.250989707046717}, {'cases': 1001, 'percentage': 19.813935075217735}, {'cases': 631, 'percentage': 12.490102929532858}, {'cases': 893, 'percentage': 17.67616785431512}, {'cases': 683, 'percentage': 13.519398258115597}, {'cases': 981, 'percentage': 19.418052256532064}, {'cases': 786, 'percentage': 15.558194774346795}, {'cases': 355, 'percentage': 7.026920031670626}, {'cases': 774, 'percentage': 15.320665083135394}, {'cases': 942, 'percentage': 18.646080760095014}, {'cases': 987, 'percentage': 19.536817102137768}, {'cases': 1767, 'percentage': 34.97624703087886}, {'cases': 782, 'percentage': 15.479018210609658}, {'cases': 1045, 'percentage': 20.684877276326205}, {'cases': 735, 'percentage': 14.548693586698338}, {'cases': 388, 'percentage': 7.68012668250198}, {'cases': 1113, 'percentage': 22.03087885985748}, {'cases': 751, 'percentage': 14.865399841646873}, {'cases': 462, 'percentage': 9.144893111638956}, {'cases': 876, 'percentage': 17.339667458432302}, {'cases': 670, 'percentage': 13.262074425969914}, {'cases': 982, 'percentage': 19.43784639746635}, {'cases': 1234, 'percentage': 24.42596991290578}, {'cases': 729, 'percentage': 14.429928741092635}, {'cases': 1245, 'percentage': 24.643705463182897}, {'cases': 685, 'percentage': 13.558986539984163}, {'cases': 1528, 'percentage': 30.245447347585113}, {'cases': 360, 'percentage': 7.1258907363420425}, {'cases': 541, 'percentage': 10.708630245447347}, {'cases': 1224, 'percentage': 24.228028503562946}, {'cases': 417, 'percentage': 8.2541567695962}, {'cases': 980, 'percentage': 19.398258115597784}, {'cases': 710, 'percentage': 14.053840063341253}, {'cases': 786, 'percentage': 15.558194774346791}, {'cases': 759, 'percentage': 15.023752969121139}, {'cases': 599, 'percentage': 11.856690419635788}, {'cases': 441, 'percentage': 8.729216152019003}, {'cases': 499, 'percentage': 9.877276326207443}, {'cases': 646, 'percentage': 12.78701504354711}, {'cases': 426, 'percentage': 8.43230403800475}, {'cases': 940, 'percentage': 18.606492478226446}, {'cases': 542, 'percentage': 10.728424386381631}, {'cases': 989, 'percentage': 19.576405384006332}, {'cases': 731, 'percentage': 14.469517022961202}, {'cases': 476, 'percentage': 9.422011084718923}, {'cases': 829, 'percentage': 16.40934283452098}, {'cases': 944, 'percentage': 18.68566904196358}, {'cases': 671, 'percentage': 13.281868566904198}, {'cases': 393, 'percentage': 7.779097387173397}, {'cases': 608, 'percentage': 12.034837688044338}, {'cases': 672, 'percentage': 13.30166270783848}, {'cases': 1481, 'percentage': 29.31512272367379}, {'cases': 619, 'percentage': 12.252573238321457}, {'cases': 1335, 'percentage': 26.42517814726841}, {'cases': 698, 'percentage': 13.81631037212985}, {'cases': 400, 'percentage': 7.91765637371338}, {'cases': 1370, 'percentage': 27.11797307996833}, {'cases': 685, 'percentage': 13.558986539984165}, {'cases': 656, 'percentage': 12.984956452889945}, {'cases': 1039, 'percentage': 20.56611243072051}, {'cases': 734, 'percentage': 14.528899445764054}, {'cases': 1139, 'percentage': 22.54552652414885}, {'cases': 607, 'percentage': 12.015043547110055}, {'cases': 768, 'percentage': 15.20190023752969}, {'cases': 498, 'percentage': 9.857482185273158}, {'cases': 785, 'percentage': 15.538400633412511}, {'cases': 799, 'percentage': 15.815518606492477}, {'cases': 515, 'percentage': 10.193982581155979}]


#percentage array to get 5 point stats
percentage = []


for i in results_from_300:
    percentage.append(i["percentage"])


#average of the heights of the kids that went missing
mean = np.mean(percentage)
print(mean)

for i in results_from_300:
    i["percentage"] = i["percentage"] / mean

#also need to normalize holiday weeks data
normalizeHoliday = HOLIDAY_SUM / mean


count = 0


for i in results_from_300:
    if i["percentage"] > normalizeHoliday: 
        count += 1
        
#if this result is less than .05 our claim is statistically significant else our claim is not
pval = count / len(results_from_300)
print(pval)

# Make a random dataset:
height = [20.0015, 15.81756400105569]
bars = ('Holiday', 'Random Mean')
y_pos = np.arange(len(bars))

# Create bars
plt.bar(y_pos, height)

# Create names on the x-axis
plt.xticks(y_pos, bars)

# Show graphic
plt.show()